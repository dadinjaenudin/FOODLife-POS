{% comment %}
============================================================================
FOOTER INFO BAR (footer_info.html)
============================================================================
Bar informasi sistem di bagian BAWAH area konten utama.
Menampilkan kode-kode identifikasi: Company, Brand, Store, Terminal.

DIPANGGIL DARI: main.html via include tag

CONTEXT VARIABLES (dari views.py):
- store_config       : Konfigurasi toko (brand.company.code, brand.code, store_code)
- terminal_config    : Konfigurasi terminal (terminal_code)

LAYOUT:
┌──────────────────────────────────────────────────┐
│  [Company Code] • [Brand Code] • [Store Code] • [Terminal Code]  │
└──────────────────────────────────────────────────┘

CATATAN:
- Terminal code bisa "NOT REGISTERED" jika terminal belum terdaftar
  → Akan ditampilkan dengan warna merah + animasi pulse
- Menggunakan inline <script> karena butuh akses ke Django template variable
============================================================================
{% endcomment %}

<footer id="pos-footer" class="bg-white border-t border-gray-100">
    <div class="flex items-center px-4 py-3">
        <div class="flex items-center gap-3 text-sm text-gray-700">
            {# Company Code #}
            <span class="px-6 py-2.5 bg-gray-100 border-2 border-gray-300 rounded-full font-semibold">{{ store_config.brand.company.code }}</span>
            <span class="text-gray-300">&bull;</span>
            {# Brand Code #}
            <span class="px-6 py-2.5 bg-gray-100 border-2 border-gray-300 rounded-full font-semibold">{{ store_config.brand.code }}</span>
            <span class="text-gray-300">&bull;</span>
            {# Store Code (hijau) #}
            <span class="px-6 py-2.5 bg-green-100 border-2 border-green-400 text-green-700 rounded-full font-semibold">{{ store_config.store_code }}</span>
            <span class="text-gray-300">&bull;</span>
            {# Terminal Code (diisi via JavaScript) #}
            <span class="px-6 py-2.5 bg-gray-100 border-2 border-gray-300 rounded-full font-semibold" id="footer-terminal-code">-</span>
        </div>
    </div>
    {% comment %}
    SCRIPT: Set terminal code dari Django context variable.
    Jika "NOT REGISTERED", ubah warna jadi merah + animasi pulse untuk peringatan.
    {% endcomment %}
    <script>
        (function () {
            const terminalCode = '{{ terminal_config.terminal_code|default:"NOT REGISTERED" }}';
            const terminalEl = document.getElementById('footer-terminal-code');
            if (terminalEl) {
                terminalEl.textContent = terminalCode;
                if (terminalCode === 'NOT REGISTERED') {
                    terminalEl.classList.add('text-red-700', 'bg-red-100', 'border-red-400', 'animate-pulse');
                    terminalEl.classList.remove('bg-gray-100', 'border-gray-300');
                }
            }
        })();
    </script>
</footer>
