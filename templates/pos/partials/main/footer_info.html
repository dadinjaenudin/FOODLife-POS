{% comment %}
============================================================================
FOOTER INFO BAR (footer_info.html)
============================================================================
Bar informasi sistem di bagian BAWAH area konten utama.
Menampilkan kode-kode identifikasi: Company, Brand, Store, Terminal.

DIPANGGIL DARI: main.html via include tag

CONTEXT VARIABLES (dari views.py):
- store_config       : Konfigurasi toko (brand.company.code, brand.code, store_code)
- terminal_config    : Konfigurasi terminal (terminal_code)

LAYOUT:
┌──────────────────────────────────────────────────────────────────┐
│  [Company] • [Brand] • [Store] • [Terminal]   [KitchenPrn] [ReceiptPrn]  │
└──────────────────────────────────────────────────────────────────┘

CATATAN:
- Terminal code bisa "NOT REGISTERED" jika terminal belum terdaftar
  → Akan ditampilkan dengan warna merah + animasi pulse
- Menggunakan inline <script> karena butuh akses ke Django template variable
============================================================================
{% endcomment %}

<footer id="pos-footer" class="bg-white border-t border-gray-100">
    <div class="flex items-center px-4 py-2.5">
        {# Codes - single line text #}
        <span class="text-[11px] text-gray-400 font-medium">
            {{ store_config.brand.company.code }}
            <span class="text-gray-300">|</span>
            {{ store_config.brand.code }}
            <span class="text-gray-300">|</span>
            <span class="text-green-600">{{ store_config.store_code }}</span>
            <span class="text-gray-300">|</span>
            <span id="footer-terminal-code">-</span>
        </span>

        {# Printer Status Widgets - di sisi kanan footer #}
        <div class="ml-auto flex items-center gap-1.5">
            {% include 'pos/partials/main/kitchen_printer_widget.html' %}
            {% include 'pos/printer_status.html' %}
        </div>
    </div>
    {% comment %}
    SCRIPT: Set terminal code dari Django context variable.
    Jika "NOT REGISTERED", ubah warna jadi merah + animasi pulse untuk peringatan.
    {% endcomment %}
    <script>
        (function () {
            const terminalCode = '{{ terminal_config.terminal_code|default:"NOT REGISTERED" }}';
            const terminalEl = document.getElementById('footer-terminal-code');
            if (terminalEl) {
                terminalEl.textContent = terminalCode;
                if (terminalCode === 'NOT REGISTERED') {
                    terminalEl.classList.add('text-red-500', 'animate-pulse');
                }
            }
        })();
    </script>
</footer>
